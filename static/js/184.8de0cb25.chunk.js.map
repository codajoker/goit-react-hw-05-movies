{"version":3,"file":"static/js/184.8de0cb25.chunk.js","mappings":"+MA2DA,UAvDA,WACE,OAA4BA,EAAAA,EAAAA,WAAS,GAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAmBjB,OAlBAC,EAAAA,EAAAA,YAAU,WACJJ,EAAaK,IAAI,WACnBC,EAAAA,EAAAA,UAASN,EAAaK,IAAI,UAAUE,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC1C,OAAOZ,EAAUY,EAAKC,cAGzB,CAACT,KAaF,iCACE,kBAAMU,SAbW,SAAAC,GAGnB,GAFAA,EAAEC,iBACFX,EAAgB,CAAEJ,MAAOA,EAAMgB,SACG,KAA9Bb,EAAaK,IAAI,SACnB,OAAOS,MAAM,qJAEfR,EAAAA,EAAAA,UAASN,EAAaK,IAAI,UAAUE,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC1C,OAAOZ,EAAUY,EAAKC,aAMtB,WACE,4BACE,kBACEM,KAAK,OACLC,SAAU,SAAAL,GACRb,EAASa,EAAEM,OAAOC,aAIxB,wCAEF,wBACGvB,GACCA,EAAOwB,KAAI,SAAAC,GACT,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKD,EAAME,IACbC,MAAK,UAAKrB,EAASsB,UAAd,OAAyBtB,EAASuB,QAFzC,SAIGL,EAAMM,SALFN,EAAME,c,qPC3ChBK,EAAU,mCAAG,WAAMC,GAAN,iFACXC,IAAAA,IAAA,6CAC2BD,EAD3B,sDADW,mFAAH,sDAKVE,EAAU,mCAAG,WAAMF,GAAN,iFACXC,IAAAA,IAAA,6CAC2BD,EAD3B,8CADW,mFAAH,sDAKVG,EAAU,mCAAG,WAAMH,GAAN,iFACXC,IAAAA,IAAA,6CAC2BD,EAD3B,sDADW,mFAAH,sDAKVI,EAAQ,mCAAG,8FACTH,IAAAA,IACX,2FAFoB,mFAAH,qDAKRvB,EAAQ,mCAAG,WAAMT,GAAN,iFACTgC,IAAAA,IAAA,mGACiFhC,IAFxE,mFAAH","sources":["components/MoviesPage/MoviesPage.jsx","components/api/Api.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { apiQuery } from '../api/Api';\n\nfunction MoviesPage() {\n  const [movies, setMovies] = useState(false);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  useEffect(() => {\n    if (searchParams.get('query')) {\n      apiQuery(searchParams.get('query')).then(({ data }) => {\n        return setMovies(data.results);\n      });\n    }\n  }, [searchParams]);\n  const onSubmitForm = e => {\n    e.preventDefault();\n    setSearchParams({ query: query.trim() });\n    if (searchParams.get('query') === '') {\n      return alert('Введите в поле поиска что то ');\n    }\n    apiQuery(searchParams.get('query')).then(({ data }) => {\n      return setMovies(data.results);\n    });\n  };\n\n  return (\n    <>\n      <form onSubmit={onSubmitForm}>\n        <label>\n          <input\n            type=\"text\"\n            onChange={e => {\n              setQuery(e.target.value);\n            }}\n          />\n        </label>\n        <button>Go!</button>\n      </form>\n      <ul>\n        {movies &&\n          movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link\n                  to={`${movie.id}`}\n                  state={`${location.pathname}${location.search}`}\n                >\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\nexport const apiCredits = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=166aeb1e62f46939f496859b559d3511`\n  );\n};\nexport const apiDetails = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=166aeb1e62f46939f496859b559d3511`\n  );\n};\nexport const apiReviews = async movieId => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=166aeb1e62f46939f496859b559d3511`\n  );\n};\nexport const apiTrand = async () => {\n  return await axios.get(\n    'https://api.themoviedb.org/3/trending/all/week?api_key=166aeb1e62f46939f496859b559d3511'\n  );\n};\nexport const apiQuery = async query => {\n  return await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=166aeb1e62f46939f496859b559d3511&query=${query}`\n  );\n};\n"],"names":["useState","movies","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","location","useLocation","useEffect","get","apiQuery","then","data","results","onSubmit","e","preventDefault","trim","alert","type","onChange","target","value","map","movie","to","id","state","pathname","search","title","apiCredits","movieId","axios","apiDetails","apiReviews","apiTrand"],"sourceRoot":""}